import{g as p,n as f,t as S,y as z,d as L,z as h,A as k,C,D as _,l as D,E as $,G as j,H as U,k as n,J as N,K as M,s as F,L as R,I as V,w as G,_ as H,M as J,N as K,c as O,e as t,x as v,O as m,o as T,p as q,b as Q}from"./index-0f7458ee.js";import{f as W}from"./authController-1ef0f7b0.js";const[X,u]=p("image"),Y={src:String,alt:String,fit:String,position:String,round:Boolean,width:f,height:f,radius:f,lazyLoad:Boolean,iconSize:f,showError:S,errorIcon:z("photo-fail"),iconPrefix:String,showLoading:S,loadingIcon:z("photo")};var Z=L({name:X,props:Y,emits:["load","error"],setup(e,{emit:a,slots:s}){const r=h(!1),i=h(!0),c=h(),{$Lazyload:l}=k().proxy,A=C(()=>{const o={width:_(e.width),height:_(e.height)};return D(e.radius)&&(o.overflow="hidden",o.borderRadius=_(e.radius)),o});$(()=>e.src,()=>{r.value=!1,i.value=!0});const g=o=>{i.value=!1,a("load",o)},w=o=>{r.value=!0,i.value=!1,a("error",o)},y=(o,d,b)=>b?b():n(V,{name:o,size:e.iconSize,class:d,classPrefix:e.iconPrefix},null),B=()=>{if(i.value&&e.showLoading)return n("div",{class:u("loading")},[y(e.loadingIcon,u("loading-icon"),s.loading)]);if(r.value&&e.showError)return n("div",{class:u("error")},[y(e.errorIcon,u("error-icon"),s.error)])},P=()=>{if(r.value||!e.src)return;const o={alt:e.alt,class:u("img"),style:{objectFit:e.fit,objectPosition:e.position}};return e.lazyLoad?N(n("img",F({ref:c},o),null),[[M("lazy"),e.src]]):n("img",F({src:e.src,onLoad:g,onError:w},o),null)},I=({el:o})=>{const d=()=>{o===c.value&&i.value&&g()};c.value?d():R(d)},E=({el:o})=>{o===c.value&&!r.value&&w()};return l&&j&&(l.$on("loaded",I),l.$on("error",E),U(()=>{l.$off("loaded",I),l.$off("error",E)})),()=>{var o;return n("div",{class:u({round:e.round}),style:A.value},[P(),B(),(o=s.default)==null?void 0:o.call(s)])}}});const ee=G(Z);const x=e=>(q("data-v-6c381176"),e=e(),Q(),e),oe={class:"about_container"},re={class:"item avatar"},ae={class:"item author"},te={class:"item author"},ne=x(()=>t("p",{class:"label"},"\u5FAE\u4FE1\u6388\u6743code\u7801:",-1)),se=x(()=>t("p",{class:"label"},"\u9879\u76EE\u5730\u5740:",-1)),ie=L({__name:"About",setup(e){const a=J(),s=()=>{window.location.href=`${a.userInfo.projectAddress}`};return K(async()=>{try{const r=await W();if(console.log(r),r.retcode!==0)return new Error(r.msg);a.saveUserInfo(r.result)}catch(r){console.log(r)}}),(r,i)=>{const c=ee;return T(),O("div",oe,[t("div",re,[n(c,{width:"100",height:"100",round:"",src:v(a).userInfo.avatar},null,8,["src"])]),t("div",ae,"\u9879\u76EE\u4F5C\u8005\uFF1A"+m(v(a).userInfo.author),1),t("div",te,[ne,t("p",null,m(v(a).code||"\u8BF7\u4F7F\u7528\u5FAE\u4FE1\u6D4F\u89C8\u5668\u67E5\u770B"),1)]),t("div",{class:"item url",onClick:s},[se,t("p",null,m(v(a).userInfo.projectAddress),1)])])}}});var le=H(ie,[["__scopeId","data-v-6c381176"],["__file","/home/runner/work/vue3-vite2-h5-template-ynzy/vue3-vite2-h5-template-ynzy/src/views/tabBar/About.vue"]]);export{le as default};
